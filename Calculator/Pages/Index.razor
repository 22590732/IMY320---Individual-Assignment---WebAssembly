@page "/"
<h3>WebAssembly Calculator</h3>

<div class="calc-container">
    <input type="text" @bind="Input" class="calc-input" />
    <p>Result: @Result</p>
</div>

<div class="buttons">
    <button @onclick='() => Append("0")'>0</button>
    <button @onclick='() => Append("1")'>1</button>
    <button @onclick='() => Append("2")'>2</button>
    <button @onclick='() => Append("3")'>3</button>
    <button @onclick='() => Append("4")'>4</button>
    <button @onclick='() => Append("5")'>5</button>
    <button @onclick='() => Append("6")'>6</button>
    <button @onclick='() => Append("7")'>7</button>
    <button @onclick='() => Append("8")'>8</button>
    <button @onclick='() => Append("9")'>9</button>

    <button @onclick='() => Append("+")'>+</button>
    <button @onclick='() => Append("/")'>/</button>
    <button @onclick='() => Append("*")'>*</button>
    <button @onclick='() => Append("-")'>-</button>

    <button @onclick='() => Append(".")'>.</button>

    <button @onclick='Clear'>Clear</button>
    <button @onclick='Calculate'>=</button>
</div>


@code {
    private string Input = "";
    private string Result = "";

    void Append(string value)
    {
        Input += value;
    }

    void Clear()
    {
        Input = "";
        Result = "";
    }

    void Calculate()
    {
        try
        {
            var result = new System.Data.DataTable().Compute(Input, "");
            Result = result.ToString();
        }
        catch (Exception ex)
        {
            Result = "Error: " + ex.Message;
        }
    }
}